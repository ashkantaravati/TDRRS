{% extends "student/dashboard_layout.html" %}
{% block title %}
زمان‌های موجود برای دفاع
{% endblock %}
{% block content %}
<div class="col-12 table-responsive rtlDirection text-right blue-border">
    <h4 class="m-2"> زمان‌های موجود</h4>

            <table class="table table-hover" >
                <thead class=" row-blue-bg">
                    <tr class="filters">
                        <th>انتخاب</th>
                        <th>کد</th>
                        <th>تاریخ برگزاری</th>
                        <th>روز هفته</th>
                        <th>ساعت شروع</th>
                        <th>ساعت پایان</th>
                        <th>مکان دفاع</th>
                        <th>عملیات</th>
                    </tr>
                </thead>
                <tbody>
                        {% for defense_time in defense_times %}
                    
                    <tr>
                        <td><input type="checkbox"></input></td>
                        <td>{{defense_time.id}}</td>
                        <td>{{ defense_time.occurrence_date }}</td>
                        <td>{{ defense_time.weekday }}</td>
                        <td>{{ defense_time.start_time }}</td>
                        <td>{{ defense_time.end_time }}</td>
                        <td>{{ defense_time.defense_place }}</td>
                                                    
                        <td>
                        <a  onclick="postReservationRequest(this,'{% url 'submit_reservation' %}');" data-id="{{defense_time.id}}">
                            <i class="fa fa-check"></i>
                        </a>
                        </td>
        
                        </tr>
                            {% endfor %}
                </tbody>
            </table>
    
        <hr class="my-0">
    
        <!--Bottom Table UI-->
        <div class="d-flex justify-content-center">
    
            <!--Pagination -->
            <nav class="my-4 pt-2">
                <ul class="pagination pagination-circle pg-purple mb-0">
    
                    <!--First-->
                    <li class="page-item disabled clearfix d-none d-md-block"><a class="page-link">صفحه‌ی اول</a></li>
    
                    <!--Arrow left-->
                    <li class="page-item disabled">
                        <a class="page-link" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">صفحه‌ی قبل</span>
                    </a>
                    </li>
    
                    <!--Numbers-->
                    <li class="page-item active"><a class="page-link">۱</a></li>
                    <li class="page-item"><a class="page-link">۲</a></li>
                    <li class="page-item"><a class="page-link">۳</a></li>
                    <li class="page-item"><a class="page-link">۴</a></li>
                    <li class="page-item"><a class="page-link">۵</a></li>
    
                    <!--Arrow right-->
                    <li class="page-item">
                        <a class="page-link" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">صفحه‌ی بعد</span>
                    </a>
                    </li>
    
                    <!--First-->
                    <li class="page-item clearfix d-none d-md-block"><a class="page-link">آخرین صفحه</a></li>
    
                </ul>
            </nav>
            <!--/Pagination -->
    
        </div>
        <!--Bottom Table UI-->
    
    </div>

{% endblock %}

{% block javascript %}
    <script>

        function postReservationRequest(sender,endpoint){
            let did=$(sender).data('id');
            //alert(did);
            $.ajax({
                url:endpoint,
                data:{id:did},
                dataType:'JSON',
                method:'POST',
                success:function(result){
                    alert(result.msg);
                },
                error:function(){
                    alert('error');
                }
            })
            }
    </script>
{% endblock javascript %}